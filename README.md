# mpham-chess (under construction)

Re-writing [my chess engine](https://github.com/mtpham99/MPChess).

Under construction:
* (pseudolegal) move generation and perft tests all working
* working on search and universal chess interface (UCI)...

# Table of Contents

1. [Building](#1-Building)
    1. [Build Requirements](#11-Build-Requirements)
    2. [Build Instructions](#12-Build-Instructions)
        1. [CMake](#121-CMake)
        2. [Nix (Todo)](#122-Nix-Todo)
2. [Perft Tests](#2-Perft-Tests)
    1. [Perft Position Sources](#2.1-Perft-Position-Sources)
    2. [Building & Running](#2.2-Building--Running)
        1. [CMake](#221-CMake)
        2. [Nix (Todo)](#222-Nix-Todo)
3. [Implemented & In-Progress Features](#3-Implemented--In-Progress-Features)
    1. [General](#31-General)
    2. [Engine Backend](#32-Engine-Backend)
    3. [Search](#33-Search)
4. [Resources](#4-Resources)

# 1. Building

Tested on Linux (NixOS / Nix-Shell) environment using:

- CMake v3.30.4
- Ninja v1.12.1
- Clang v18.1.8
- Catch2 v3.7.1

## 1.1 Build Requirements

- C++23 supported compiler
- Catch2 v3.x (optional -- required for building tests)

## 1.2 Build Instructions

### 1.2.1 CMake

1. clone repo
```bash
git clone https://github.com/mtpham99/mpham-chess.git
```

2. create build dir
```bash
cd mpham-chess
mkdir build && cd build
```

3. configure
```bash
cmake \
    -DCMAKE_BUILD_TYPE=Release \
    -DBUILD_TESTING=OFF \
    ..
```

4. build
```bash
make main
```

5. run
```bash
./src/main
```

### 1.2.2 Nix (Todo)

1. Come back later...

# 2. Perft Tests

## 2.1 Perft Position Sources

1. Start position and 5 others from [The Chess Programming Wiki Perft Results](https://www.chessprogramming.org/Perft_Results)
2. 126 positions from "perft-testsuite" retrieved from [Roman's Own Chess Engine (ROCE)'s Info Page](http://www.rocechess.ch/perft.html)
3. Opening stage Chess960 positions generated by [@AndyGrant's](https://github.com/AndyGrant) retrieved from [Ethereal Engine's Perft Tests](https://github.com/AndyGrant/Ethereal/blob/master/src/perft/fischer.epd)

## 2.2 Building & Running

### 2.2.1 CMake

1. enter build dir from before
```bash
cd mpham-chess/build
```

2. Re-configure with `perft_tests` enabled
```bash
cmake \
    -DCMAKE_BUILD_TYPE=Release \
    -DBUILD_TESTING=ON \
    ..
```

3. build
```bash
make perft_tests
```

4. run perft tests
```bash
./tests/perft_tests
```
or run all tests in parallel using **CTest**
```bash
ctest -j$(nproc)
```

### 2.2.2 Nix

1. Come back later...

# Implemented & In-Progress Features

## General

- [x] [Chess960 (Fischer Random Chess)](https://en.wikipedia.org/wiki/Chess960) Compatibility
- [x] [X-FEN](https://en.wikipedia.org/wiki/X-FEN) & [Shredder-FEN](https://www.chessprogramming.org/Forsyth-Edwards_Notation#Shredder-FEN) Compatibility

## Engine Backend

- [x] [Bitboards](https://www.chessprogramming.org/Bitboards)
- [x] [Magic Bitboards](https://www.chessprogramming.org/Magic_Bitboards)
- [x] [Incremental Updates](https://www.chessprogramming.org/Incremental_Updates)

## Search

- [ ] [Minimax Search](https://en.wikipedia.org/wiki/Minimax)
- [ ] [Alpha-Beta Pruning](https://en.wikipedia.org/wiki/Alpha%E2%80%93beta_pruning)
- [ ] [Transposition Table](https://en.wikipedia.org/wiki/Transposition_table)

# Resources

1. [The Chess Programming Wiki](https://www.chessprogramming.org/Main_Page)
2. [Good explanation on "Magic Bitboards"](https://analog-hors.github.io/site/magic-bitboards/)
